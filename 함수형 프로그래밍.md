# 함수형 프로그래밍

프로그램 코드를 작성할 때 패러다임은 여러가지가 있습니다. 명령형 프로그래밍과 선언형 프로그래밍 그리고 그 안에서 파생되는 객치지향형 프로그래밍, 절차지향형 프로그래밍, 함수형 프로그래밍 등등이 있습니다.

이전에 작성한 [명령형 프로그래밍 vs 선언형 프로그래밍](https://www.notion.so/VS-0a93857a8e2b4382abfc86b76c3d417a)에서 볼 수 있듯이 JavaScript는 명령형 프로그래밍과 선언형 프로그래밍 모두 섞어서 사용이 가능합니다. 명령형 프로그래밍의 대표적인 방식으로 객체지향 프로그래밍이 있고 선언형 프로그래밍의 대표적인 방식으로 함수형 프로그래밍이 있습니다.

<aside>
💡 명령형 프로그래밍 : 코드에게 어떻게(How) 동작할 것인지 알려주는 방식
선언형 프로그래밍 : 코드에게 무엇을(What) 동작할 것인지 알려주는 방식
선언형 프로그램이은 “어떻게” 라는 추상적인 개념이 사전에 있어야 실행이 가능합니다.

</aside>

그렇다면 프론트엔드 개발자가 함수형 프로그래밍으로 작성해야 하는 이유는 무엇일까요? 프론트 엔드는 JavaScript를 기반으로 코드를 작성해야 하고 그 JavaScript는 위에서 언급했듯이 멀티 프로그래밍 랭귀지이기 때문입니다. 무작정 하나만 배우라는 것은 아닙니다. 다만 함수형 프로그래밍을 알고 객체 지향형 프로그래밍을 안다면 좀 넓은 시야로 개발을 할 수 있게됩니다. 

함수형 프로그래밍을 알기 위해서는 아래 3개 개념에 대해 숙지하고 있어야 합니다.

1. 순수 함수 (Pure Function)
2. 부수 효과 (Side Effect)
3. 1급 객체

### 순수 함수

순수 함수란 부수효과가 없는 함수를 의미합니다. 즉, 하나의 동작만을 수행하는 함수입니다. 배열의 합을 구하는 함수를 구현해 보겠습니다. 

```tsx
function addSum(arr){
    let sum = 0
    const getSum = (arr) =>{
       for(let i =0; i < arr.length; i++){
            sum += arr[i]
        }
    }
    getSum(arr);
    return sum
}
```

```tsx
function addSum(arr){
    return arr.reduce((acc,cur) => acc+cur, 0)
}
```

적절한 예시가 될 지모르겠지만, 첫 번째 함수가 Side Effect가 존재하는 함수고, 두 번째 함수가 순수 함수입니다. 두 코드의 특징을 보면 순수 함수의 경우 그 값만 고유하게 사용하고 여타 다른 변수 값의 영향을 받지 않습니다. 주어진 `addSum`이라는 스코프 안에서만 철저하게 동작을 수행하고 값을 변경된 값을 반환합니다.

반면에, 첫 번째 코드의 경우 전역변수 sum의 영향을 받습니다. `getSum` 함수를 실행하고 나서 다른 구문에서 `sum` 변수에 다른 영향을 주었다면 `sum`의 값에 영향을 주게 됩니다.

순수 함수의 특징을 정리하면 다음과 같습니다.

- 동일한 입력에는 항상 같은 값을 반환해야 하는 함수
- 함수의 실행이 프로그램의 실행에 영향을 미치지 않아야 하는 함수
- 함수 내부에서 인자의 값을 변경하거나 프로그램 상태를 변경하는 Side Effect가 없는 것
- 함수 외부의 영향을 받지 않을 것 (참조 투명성을 유지할 것) 즉, 내부에서 선언하는 변수, 매개 변수에만 영향을 받아 독립적으로 동작할 것

### 부수 효과

<aside>
💡 **부수효과(Side Effect)**
함수 내부에서 동작하는 행동들이 함수 외부로 영향을 끼치는 것을 의미합니다.

1) 외부 값의 변화 
2) API를 이용한 I/O
3) 예외나 오류로 인한 실행 중단

</aside>

순수함수와 반대되는 함수가 부수 효과 함수입니다. React에서는 부수 효과를 관리하기 위해 `useEffect`훅이 따로 존재합니다. 

### [1급 객체](https://www.notion.so/18-f4cdc5e3d45943ce88c419f24aef0108)

1급 객체란 다음과 같은 특성을 띄고 있는 객체를 의미합니다. 

- 무명의 리터럴로 생성할 수 있다. 즉 런타임에 생성이 가능하다.
- 변수나 자료구조(객체, 배열)에 저장할 수 있다.
- 함수의 매개변수에 전달할 수 있다.
- 함수의 반환값으로 사용할 수 있다.

JavaScript에서 함수는 일급객체로 취급이 됩니다. 따라서 순수 함수로 작성된 함수가 다른 함수의 매개변수가 될 수 있습니다. 

---

함수형 프로그래밍이란 위에서 언급한 1급 객체인 함수를 순수 함수와 부수 효과로 적절하게 나누어서 프로그래밍 하는 것을 의미합니다. 함수형 프로그래밍을 사용한다면 다음과 같은 장점이 있습니다.

1. 높은 수준의 추상화를 제공한다
2. 함수 단위의 코드 재사용이 수월하다
3. 불변성을 지향하기 때문에 프로그램의 동작을 예측하기 쉬워진다
4. 테스트 하기가 쉽다. (에러가 발생해도 수정하기 쉽다.)

JavaScript에서 함수형 프로그래밍을 사용하기 위한 패턴은 [JavaScript/TypeScript 클린코드 레퍼런스](https://github.com/738/clean-code-typescript#%ED%95%A8%EC%88%98)를 참조한다면 함수를 어떻게 작성해야 하는지에 대해 어느정도 감이 잡힙니다.  

하지만 무조건 프론트엔드 개발자는 함수형 프로그래밍만을 고집해야해! 이런 것은 아닙니다. 앞에서도 언급했듯이 객체 지향 프로그래밍이 더 알맞는 기획이나 개발이 있을것이고, 함수형 프로그래밍이 더 잘맞는 기획이나 개발이 존재할 것입니다. 프로그램 기획에 맞는 프로그래밍 패러다임을 선택해서 하면 훨씬 수월할 것입니다.

추가로, 객체지향 프로그래밍과 함수형 프로그래밍의 차이에 대해 좀 더 자세할 설명이 있는 링크를 공유드리니 보고 참고하시길 바라겠습니다.

[https://mangsby.com/blog/programming/fp-vs-oop/](https://mangsby.com/blog/programming/fp-vs-oop/)

---

### 참고자료

[https://velog.io/@teo/프론트엔드-일단-한번-해보세요-함수형-프로그래밍](https://velog.io/@teo/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EC%9D%BC%EB%8B%A8-%ED%95%9C%EB%B2%88-%ED%95%B4%EB%B3%B4%EC%84%B8%EC%9A%94-%ED%95%A8%EC%88%98%ED%98%95-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)

[https://jongminfire.dev/함수형-프로그래밍이란](https://jongminfire.dev/%ED%95%A8%EC%88%98%ED%98%95-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%B4%EB%9E%80)

[https://github.com/738/clean-code-typescript#함수](https://github.com/738/clean-code-typescript#%ED%95%A8%EC%88%98)